{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 600,
  "height": 420,
  "title": {
    "text": "Stacked by fire type â€” values in thousands of hectares ('000 ha)",

    "anchor": "start"
  },
  "data": {
    "url": "https://gist.githubusercontent.com/qhoa0005/784ea1e61112bbea457e2c554b795774/raw/43625a573bffead2c1b64dee5e8d89e133c47f3d/annual_forest_fire_trends_2011_2021.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {"filter": "datum.Year >= 2011 && datum.Year <= 2020"},
    {
      "fold": ["Planned_fire_000ha", "Unplanned_fire_000ha"],
      "as": ["FireType", "Area_000ha"]
    },
    {
      "calculate": "datum.FireType === 'Planned_fire_000ha' ? 'Planned' : 'Unplanned'",
      "as": "FireTypeLabel"
    }
  ],
  "mark": {"type": "bar"},
  "encoding": {
    "x": {
      "field": "Year",
      "type": "ordinal",
      "title": "Year",
      "sort": "ascending",
      "axis": {"labelAngle": 0}
    },
    "y": {
      "field": "Area_000ha",
      "type": "quantitative",
      "title": "Burnt Area ('000 ha)",
      "axis": {"format": ",", "grid": true},
      "stack": "zero"
    },
    "color": {
      "field": "FireTypeLabel",
      "type": "nominal",
      "title": "Fire type",
      "scale": {
        "domain": ["Unplanned", "Planned"],
        "range": ["#d62728", "#9ecae1"]
      }
    },
    "order": {
      "field": "FireTypeLabel",
      "sort": ["Planned", "Unplanned"]
    },
    "tooltip": [
      {"field": "Year", "title": "Year"},
      {"field": "FireTypeLabel", "title": "Type"},
      {"field": "Area_000ha", "title": "Area ('000 ha)", "format": ","}
    ]
  }
}